---
import MobileLayout from '../layouts/MobileLayout.astro';
---
<MobileLayout activePage="calendario">
    <main class="main-content-calendar">
        <h1>Recent visits</h1>
        <p class="subtitle">Never forget the best moments</p>

        <div class="calendar-header">
            <h2 id="currentMonthYear">August 2025</h2>
            <div class="nav-arrows">
                <button id="prevMonth">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15 18L9 12L15 6" stroke="#1C1C1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <button id="nextMonth">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 18L15 12L9 6" stroke="#1C1C1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
        </div>

        <div class="calendar-grid">
            <div class="day-label">S</div>
            <div class="day-label">M</div>
            <div class="day-label">T</div>
            <div class="day-label">W</div>
            <div class="day-label">T</div>
            <div class="day-label">F</div>
            <div class="day-label">S</div>

            <div class="day empty"></div>
            <div class="day empty"></div>
            <div class="day empty"></div>
            <div class="day empty"></div>
            
            <div class="day">1</div>
            <div class="day">2</div>
            <div class="day">3</div>
            <div class="day active">4</div>
            <div class="day active">5</div>
            <div class="day">6</div>
            <div class="day">7</div>
            <div class="day">8</div>
            <div class="day">9</div>
            <div class="day">10</div>
            <div class="day">11</div>
            <div class="day">12</div>
            <div class="day">13</div>
            <div class="day">14</div>
            <div class="day">15</div>
            <div class="day active">16</div>
            <div class="day active">17</div>
            <div class="day">18</div>
            <div class="day">19</div>
            <div class="day">20</div>
            <div class="day">21</div>
            <div class="day">22</div>
            <div class="day">23</div>
            <div class="day">24</div>
            <div class="day">25</div>
            <div class="day">26</div>
            <div class="day">27</div>
            <div class="day">28</div>
            <div class="day">29</div>
            <div class="day">30</div>
            <div class="day">31</div>
        </div>

        <p class="visits-summary">
            In <span id="summaryMonthYear">August 2025</span>, you went to Urbino's Botanical Garden 4 times.
        </p>
    </main>
</MobileLayout>

<script>
    const currentMonthYear = document.getElementById('currentMonthYear');
    const summaryMonthYear = document.getElementById('summaryMonthYear');
    const prevMonthBtn = document.getElementById('prevMonth');
    const nextMonthBtn = document.getElementById('nextMonth');

    let currentDate = new Date(); // Inizializza con la data odierna
    currentDate.setMonth(7); // Imposta ad Agosto (0=Gennaio, 7=Agosto)
    currentDate.setFullYear(2025); // Imposta all'anno 2025

    const monthNames = [
        "January", "February", "March", "April", "May", "June",
        "July", "August", "September", "October", "November", "December"
    ];

    function updateCalendarDisplay() {
        const month = monthNames[currentDate.getMonth()];
        const year = currentDate.getFullYear();
        currentMonthYear.textContent = `${month} ${year}`;
        summaryMonthYear.textContent = `${month} ${year}`;
        // Qui potresti aggiungere la logica per ridisegnare i giorni del calendario
        // in base al mese e all'anno corrente, inclusi i giorni attivi.
        // Per ora, manteniamo la griglia statica come da tua immagine.
    }

    prevMonthBtn.addEventListener('click', () => {
        currentDate.setMonth(currentDate.getMonth() - 1);
        updateCalendarDisplay();
    });

    nextMonthBtn.addEventListener('click', () => {
        currentDate.setMonth(currentDate.getMonth() + 1);
        updateCalendarDisplay();
    });

    // Inizializza la visualizzazione quando la pagina carica
    updateCalendarDisplay();
</script>

<style>
    .main-content-calendar {
        padding: 2rem 1.5rem;
        box-sizing: border-box;
        height: 100%;
        display: flex;
        flex-direction: column;
    }
    .main-content-calendar h1 {
        font-size: 2.8rem;
        font-weight: 700;
        line-height: 1.1;
        margin: 0;
        color: #1c1c1e;
    }
    .main-content-calendar .subtitle {
        font-size: 1.1rem;
        color: #888;
        margin-top: 0.5rem;
        margin-bottom: 2rem;
    }

    .calendar-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
    }
    .calendar-header h2 {
        font-size: 1.5rem;
        font-weight: 600;
        margin: 0;
        color: #1c1c1e;
    }
    .nav-arrows {
        display: flex;
        gap: 0.5rem;
    }
    .nav-arrows button {
        background: none;
        border: 1px solid #e0e0e0;
        border-radius: 10px;
        width: 38px;
        height: 38px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: background-color 0.2s;
    }
    .nav-arrows button:hover {
        background-color: #f0f0f0;
    }

    .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 0.5rem;
        text-align: center;
        margin-bottom: 2rem;
    }
    .day-label {
        font-weight: 600;
        color: #6c6c70;
        font-size: 0.9rem;
        padding: 0.5rem 0;
    }
    .day {
        width: 38px;
        height: 38px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        font-size: 1rem;
        font-weight: 500;
        color: #1c1c1e;
    }
    .day.empty {
        background: none;
        visibility: hidden; /* Nasconde il numero, ma mantiene lo spazio */
    }
    .day.active {
        background-color: #619EE9; /* Colore blu per i giorni attivi */
        color: white;
    }

    .visits-summary {
        font-size: 1.1rem;
        color: #1c1c1e;
        line-height: 1.5;
       /*margin-top: auto;  Spinge il riassunto verso il fondo */
        transform: translateY(120px);
    }
    .visits-summary span {
        font-weight: 600;
    }
</style>